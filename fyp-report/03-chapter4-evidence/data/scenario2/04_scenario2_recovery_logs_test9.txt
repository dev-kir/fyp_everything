recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:11:29,503 - docker_controller - INFO - Scale-down successful: web-stress scaled to 1 (0.01s)
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:11:29,503 - __main__ - INFO - ✅ Scale-down successful: web-stress 2 → 1
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:12:53,150 - __main__ - INFO - Alert: web-stress on worker-1 - scenario1_migration - CPU=95.68% MEM=39.31%
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:12:53,150 - __main__ - INFO - Breach 1/2 for web-stress - waiting
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:12:53,150 - werkzeug - INFO - 10.0.7.191 - - [25/Dec/2025 13:12:53] "POST /alert HTTP/1.1" 200 -
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:12:59,156 - __main__ - INFO - Alert: web-stress on worker-1 - scenario1_migration - CPU=94.19% MEM=38.8%
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:12:59,157 - __main__ - INFO - Executing migration for web-stress from worker-1
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:12:59,164 - docker_controller - INFO - Zero-downtime migration: web-stress from worker-1 (replicas=1)
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:12:59,164 - docker_controller - INFO - Step 1: Finding task on worker-1
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:12:59,169 - docker_controller - INFO - Found old task lw4n8b7ayd1l on worker-1
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:12:59,169 - docker_controller - INFO - Step 2: Triggering rolling update with START-FIRST order
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:12:59,169 - docker_controller - INFO - Constraints: ['node.role==worker', 'node.hostname!=worker-3'] → ['node.role==worker', 'node.hostname!=worker-1']
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:12:59,176 - docker_controller - INFO - Step 3: Rolling update with START-FIRST initiated - new task will start before old stops
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:12:59,176 - docker_controller - INFO - Step 4: Monitoring START-FIRST rolling update (timeout 40s)
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:13:01,182 - docker_controller - INFO - Running tasks: [('lw4n8b7ayd1l', 'worker-1')] (old=True, new=False)
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:13:03,198 - docker_controller - INFO - Running tasks: [('lw4n8b7ayd1l', 'worker-1')] (old=True, new=False)
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:13:05,203 - docker_controller - INFO - Running tasks: [('co0ixwpmsfqa', 'worker-3')] (old=False, new=True)
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:13:05,203 - docker_controller - INFO - ✅ Rolling update complete: New task co0ixwpmsfqa on worker-3
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:13:05,203 - docker_controller - WARNING - ⚠️  Did not observe both tasks running (may have had downtime)
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:13:05,207 - docker_controller - INFO - Final task distribution: {'worker-3': 1}
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:13:05,208 - docker_controller - INFO - Step 6: Cleaning up migration constraints
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:13:05,208 - docker_controller - INFO - Constraints: ['node.role==worker', 'node.hostname!=worker-1'] → ['node.role==worker']
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:13:05,208 - docker_controller - ERROR - Migration error: update() got unexpected keyword arguments 'task_template', 'version'
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:13:05,209 - __main__ - INFO - Alert processed in 6052ms
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:13:05,209 - __main__ - WARNING - Alert processing exceeded 1 second: 6052ms
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:13:05,209 - werkzeug - INFO - 10.0.7.191 - - [25/Dec/2025 13:13:05] "POST /alert HTTP/1.1" 200 -
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:13:05,307 - __main__ - INFO - Alert: web-stress on worker-1 - scenario1_migration - CPU=95.0% MEM=38.29%
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:13:05,307 - __main__ - INFO - Breach 1/2 for web-stress - waiting
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:13:05,307 - werkzeug - INFO - 10.0.7.191 - - [25/Dec/2025 13:13:05] "POST /alert HTTP/1.1" 200 -
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:13:11,324 - __main__ - INFO - Alert: web-stress on worker-1 - scenario1_migration - CPU=92.08% MEM=37.79%
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:13:11,324 - __main__ - INFO - Cooldown active for web-stress: 12s < 60s
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:13:11,325 - werkzeug - INFO - 10.0.7.191 - - [25/Dec/2025 13:13:11] "POST /alert HTTP/1.1" 200 -
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:13:17,339 - __main__ - INFO - Alert: web-stress on worker-1 - scenario1_migration - CPU=90.65% MEM=37.31%
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:13:17,339 - __main__ - INFO - Breach 1/2 for web-stress - waiting
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:13:17,339 - werkzeug - INFO - 10.0.7.191 - - [25/Dec/2025 13:13:17] "POST /alert HTTP/1.1" 200 -
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:23:30,114 - __main__ - INFO - Alert: web-stress on worker-3 - scenario1_migration - CPU=80.93% MEM=29.16%
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:23:30,114 - __main__ - INFO - Breach 1/2 for web-stress - waiting
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:23:30,114 - werkzeug - INFO - 10.0.7.197 - - [25/Dec/2025 13:23:30] "POST /alert HTTP/1.1" 200 -
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:23:35,111 - __main__ - INFO - Alert: web-stress on worker-3 - scenario2_scaling - CPU=77.68% MEM=29.57%
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:23:35,111 - __main__ - INFO - Executing scale-up for web-stress
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:23:35,113 - docker_controller - INFO - Scaling web-stress from 1 to 2 replicas
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:23:35,119 - docker_controller - INFO - Scale-up successful: web-stress scaled to 2 (0.01s)
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:23:35,119 - __main__ - INFO - Alert processed in 8ms
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:23:35,119 - werkzeug - INFO - 10.0.7.197 - - [25/Dec/2025 13:23:35] "POST /alert HTTP/1.1" 200 -
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:23:40,114 - __main__ - INFO - Alert: web-stress on worker-3 - scenario2_scaling - CPU=76.2% MEM=29.53%
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:23:40,114 - __main__ - INFO - Breach 1/2 for web-stress - waiting
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:23:40,114 - werkzeug - INFO - 10.0.7.197 - - [25/Dec/2025 13:23:40] "POST /alert HTTP/1.1" 200 -
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:23:45,120 - __main__ - INFO - Alert: web-stress on worker-3 - scenario2_scaling - CPU=76.34% MEM=29.43%
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:23:45,120 - __main__ - INFO - Cooldown active for web-stress: 10s < 60s
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:23:45,120 - werkzeug - INFO - 10.0.7.197 - - [25/Dec/2025 13:23:45] "POST /alert HTTP/1.1" 200 -
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:23:50,109 - __main__ - INFO - Alert: web-stress on worker-3 - scenario2_scaling - CPU=77.0% MEM=29.35%
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:23:50,109 - __main__ - INFO - Breach 1/2 for web-stress - waiting
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:23:50,109 - werkzeug - INFO - 10.0.7.197 - - [25/Dec/2025 13:23:50] "POST /alert HTTP/1.1" 200 -
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:25:08,037 - __main__ - INFO - Alert: web-stress on worker-1 - scenario2_scaling - CPU=75.66% MEM=23.02%
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:25:08,037 - __main__ - INFO - Breach 1/2 for web-stress - waiting
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:25:08,038 - werkzeug - INFO - 10.0.7.191 - - [25/Dec/2025 13:25:08] "POST /alert HTTP/1.1" 200 -
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:25:14,051 - __main__ - INFO - Alert: web-stress on worker-1 - scenario2_scaling - CPU=76.41% MEM=22.72%
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:25:14,051 - __main__ - INFO - Executing scale-up for web-stress
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:25:14,053 - docker_controller - INFO - Scaling web-stress from 2 to 3 replicas
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:25:14,062 - docker_controller - INFO - Scale-up successful: web-stress scaled to 3 (0.01s)
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:25:14,062 - __main__ - INFO - Alert processed in 10ms
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:25:14,062 - werkzeug - INFO - 10.0.7.191 - - [25/Dec/2025 13:25:14] "POST /alert HTTP/1.1" 200 -
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:28:29,582 - __main__ - INFO - Scale-down candidate: web-stress idle detected (will scale down after 180s)
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:31:29,595 - __main__ - INFO - Scale-down triggered: web-stress idle for 180s (threshold: 180s)
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:31:29,596 - __main__ - INFO - Current: 3 replicas, CPU=90.0%, MEM=105.0%
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:31:29,596 - __main__ - INFO - After scale-down: 2 replicas can handle load (CPU<150.0%, MEM<160.0%)
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:31:29,597 - docker_controller - INFO - Scaling web-stress from 3 to 2 replicas
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:31:29,605 - docker_controller - INFO - Scale-down successful: web-stress scaled to 2 (0.01s)
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:31:29,605 - __main__ - INFO - ✅ Scale-down successful: web-stress 3 → 2
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:32:15,096 - __main__ - INFO - Alert: web-stress on worker-1 - scenario2_scaling - CPU=87.22% MEM=31.79%
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:32:15,096 - __main__ - INFO - Breach 1/2 for web-stress - waiting
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:32:15,096 - werkzeug - INFO - 10.0.7.191 - - [25/Dec/2025 13:32:15] "POST /alert HTTP/1.1" 200 -
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:32:21,111 - __main__ - INFO - Alert: web-stress on worker-1 - scenario2_scaling - CPU=85.62% MEM=31.74%
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:32:21,111 - __main__ - INFO - Cooldown active for web-stress: 52s < 60s
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:32:21,111 - werkzeug - INFO - 10.0.7.191 - - [25/Dec/2025 13:32:21] "POST /alert HTTP/1.1" 200 -
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:32:27,130 - __main__ - INFO - Alert: web-stress on worker-1 - scenario2_scaling - CPU=86.61% MEM=31.21%
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:32:27,130 - __main__ - INFO - Breach 1/2 for web-stress - waiting
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:32:27,130 - werkzeug - INFO - 10.0.7.191 - - [25/Dec/2025 13:32:27] "POST /alert HTTP/1.1" 200 -
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:32:33,157 - __main__ - INFO - Alert: web-stress on worker-1 - scenario2_scaling - CPU=85.55% MEM=30.76%
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:32:33,157 - __main__ - INFO - Executing scale-up for web-stress
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:32:33,159 - docker_controller - INFO - Scaling web-stress from 2 to 3 replicas
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:32:33,164 - docker_controller - INFO - Scale-up successful: web-stress scaled to 3 (0.01s)
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:32:33,164 - __main__ - INFO - Alert processed in 7ms
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:32:33,164 - werkzeug - INFO - 10.0.7.191 - - [25/Dec/2025 13:32:33] "POST /alert HTTP/1.1" 200 -
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:32:39,178 - __main__ - INFO - Alert: web-stress on worker-1 - scenario2_scaling - CPU=83.49% MEM=30.67%
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:32:39,178 - __main__ - INFO - Breach 1/2 for web-stress - waiting
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:32:39,178 - werkzeug - INFO - 10.0.7.191 - - [25/Dec/2025 13:32:39] "POST /alert HTTP/1.1" 200 -
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:32:45,188 - __main__ - INFO - Alert: web-stress on worker-1 - scenario2_scaling - CPU=82.84% MEM=30.1%
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:32:45,188 - __main__ - INFO - Cooldown active for web-stress: 12s < 60s
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:32:45,188 - werkzeug - INFO - 10.0.7.191 - - [25/Dec/2025 13:32:45] "POST /alert HTTP/1.1" 200 -
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:32:51,202 - __main__ - INFO - Alert: web-stress on worker-1 - scenario2_scaling - CPU=81.56% MEM=29.63%
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:32:51,202 - __main__ - INFO - Breach 1/2 for web-stress - waiting
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:32:51,203 - werkzeug - INFO - 10.0.7.191 - - [25/Dec/2025 13:32:51] "POST /alert HTTP/1.1" 200 -
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:32:57,220 - __main__ - INFO - Alert: web-stress on worker-1 - scenario2_scaling - CPU=81.68% MEM=29.31%
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:32:57,220 - __main__ - INFO - Cooldown active for web-stress: 24s < 60s
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:32:57,220 - werkzeug - INFO - 10.0.7.191 - - [25/Dec/2025 13:32:57] "POST /alert HTTP/1.1" 200 -
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:33:03,234 - __main__ - INFO - Alert: web-stress on worker-1 - scenario2_scaling - CPU=77.9% MEM=29.1%
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:33:03,234 - __main__ - INFO - Breach 1/2 for web-stress - waiting
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:33:03,234 - werkzeug - INFO - 10.0.7.191 - - [25/Dec/2025 13:33:03] "POST /alert HTTP/1.1" 200 -
recovery-manager.1.kcs1shjjng9c@master    | 2025-12-25 13:36:29,643 - __main__ - INFO - Scale-down candidate: web-stress idle detected (will scale down after 180s)
